Help me integrate Firebase Cloud Messaging into my [TECH_STACK] web app for push notifications.

Project context:

- Tech stack: [XXX] + Firebase
- Development environment: [YYY]
- Integration purpose: Send push notifications to web browsers

What I need:

1. Firebase project setup and FCM configuration
2. Service worker setup for background notifications
3. Token registration and management
4. Send notifications from frontend and backend
5. Notification click handling and deep linking
6. Topic-based and targeted messaging

Additional requirements:

- Notification permission handling
- Custom notification styling
- Analytics for notification engagement
- Cross-browser compatibility

Please provide a complete working example with detailed comments.
